# 非确定性只读内存

Cairo 白皮书指出，Cairo 使用非确定性只读内存模型。

让我们分解一下这两个核心属性：

1. **非确定性 (Non-determinism)**

- 在 Cairo 中，非确定性指的是内存地址及其值不是由典型的内存管理系统确定的。相反，证明者断言存储在这些地址中的位置和值。例如，与其像传统的读写内存模型那样手动在特定地址写入和读取值，证明者断言在内存地址 x 处存储了值 7。这样，我们不需要显式检查值 7 是否存在于地址 x。

2. **只读 (Read-only)**

- 这意味着当 Cairo 程序运行时，内存中的值不会改变。

这两个属性有效地使内存模型成为一次写入 (write-once) 内存模型。一旦将值分配给内存地址，就不能覆盖它。后续操作仅限于读取或验证该地址处的值。此外，内存地址空间是连续的，这意味着如果程序访问内存地址 x 和 y，它不能跳过中间的地址。

这种方法与以太坊虚拟机 (EVM) 等其他虚拟机有很大不同，后者使用读写内存模型。相比之下，Cairo 的内存模型优先考虑证明生成的效率。结果是，每次内存访问只需要 5 个跟踪单元。

另一种思考方式是，使用 Cairo 内存的有效成本来自内存访问的次数，而不是使用的内存地址的数量。因此，重写到现有的内存单元会产生与写入新单元类似的成本。

这种内存模型对于证明程序的正确性特别有用。当内存值只能设置一次时，描述对内存值的约束更容易，而不是在读写内存模型上表达相同的约束，因为在读写内存模型中，内存单元的值取决于“执行时间”。
